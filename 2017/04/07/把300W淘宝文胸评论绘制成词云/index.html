<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="http://tx.nladuo.cn:3000/analytics.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><title>把300W淘宝文胸评论绘制成词云 · 叁公子的博客</title><meta name="description" content="把300W淘宝文胸评论绘制成词云 - 叁公子"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../../../../avatar.jpg"><link rel="stylesheet" href="../../../../css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://nladuo.github.io/atom.xml" title="叁公子的博客"></head><body><div class="wrap"><header><a href="../../../../index.html" class="logo-link"><img src="../../../../avatar.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="../../../../index.html" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="../../../../archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nladuo" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">把300W淘宝文胸评论绘制成词云</h1><div class="post-info">Apr 7, 2017</div><div class="post-content"><p>&#x4ECA;&#x5929;&#x5728;&#x770B;&#x300A;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x300B;&#x7B2C;&#x56DB;&#x7AE0;&#x7684;&#x6F5C;&#x5728;&#x72C4;&#x5229;&#x514B;&#x96F7;&#x5206;&#x6790;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x770B;&#x5230;&#x4E86;&#x8BCD;&#x4E91;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x3002;&#x4E8E;&#x662F;&#x5728;&#x767E;&#x5EA6;&#x4E0A;&#x641C;&#x4E86;&#x641C;&#x76F8;&#x5173;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x611F;&#x89C9;&#x8FD8;&#x662F;&#x633A;&#x6709;&#x610F;&#x601D;&#x7684;&#x3002;&#x5176;&#x4E2D;&#x6709;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x53EB;&#xFF1A;<a href="http://www.jianshu.com/p/c862130f322d" target="_blank" rel="external">&#x5229;&#x7528;pandas+python&#x5236;&#x4F5C;100G&#x4E9A;&#x9A6C;&#x900A;&#x7528;&#x6237;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x8BCD;&#x4E91;</a>&#x3002;&#x6211;&#x5C31;&#x8054;&#x60F3;&#x5230;&#x4E86;&#x6211;&#x4E4B;&#x524D;&#x722C;&#x8FC7;&#x7684;&#x6DD8;&#x5B9D;&#x6587;&#x80F8;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x3002;&#x4E8E;&#x662F;&#x6709;&#x4E86;&#x6B64;&#x6587;&#x3002;</p>
<a id="more"></a>
<h2 id="&#x6570;&#x636E;&#x9884;&#x5904;&#x7406;"><a href="#&#x6570;&#x636E;&#x9884;&#x5904;&#x7406;" class="headerlink" title="&#x6570;&#x636E;&#x9884;&#x5904;&#x7406;"></a>&#x6570;&#x636E;&#x9884;&#x5904;&#x7406;</h2><p>&#x9996;&#x5148;&#x628A;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x4E0B;&#x8F7D;&#x4E0B;&#x6765;&#xFF0C;&#x94FE;&#x63A5;: <a href="https://pan.baidu.com/s/1bpbuZLX" target="_blank" rel="external">https://pan.baidu.com/s/1bpbuZLX</a> &#x5BC6;&#x7801;: kvyp&#x3002;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;&#x7684;&#x662F;&#xFF0C;&#x4F7F;&#x7528;mongoimport&#x547D;&#x4EE4;&#x628A;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;&#x3002;<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongoimport <span class="_">-d</span> taobao -c rates  --file ./rates.dat</div></pre></td></tr></table></figure></p>
<p>&#x4F7F;&#x7528;robomongo&#x5BA2;&#x6237;&#x7AEF;&#x67E5;&#x770B;&#xFF0C;&#x4E00;&#x5171;&#x662F;300w&#x6761;&#x6570;&#x636E;&#x3002;<br><img src="/2017/04/07/&#x628A;300W&#x6DD8;&#x5B9D;&#x6587;&#x80F8;&#x8BC4;&#x8BBA;&#x7ED8;&#x5236;&#x6210;&#x8BCD;&#x4E91;/count.png" alt="count">  </p>
<p>&#x8FD9;&#x91CC;&#x53EA;&#x9700;&#x8981;&#x628A;&#x5173;&#x952E;&#x8BCD;&#x90FD;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x8003;&#x8651;&#x8BC4;&#x8BBA;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x628A;&#x8BC4;&#x8BBA;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x653E;&#x5230;&#x4E00;&#x4E2A;Txt(corpus.txt)&#x91CC;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_rates</span><span class="params">()</span>:</span></div><div class="line">    client = init_client()</div><div class="line">    db = client[config[<span class="string">&apos;db_name&apos;</span>]]</div><div class="line">    rates = db.rates.find({})</div><div class="line">    <span class="keyword">return</span> rates</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    rates = get_rates()</div><div class="line">    <span class="keyword">print</span> <span class="string">&quot;Adding to corpus.txt...&quot;</span></div><div class="line">    f = open(<span class="string">&apos;./assets/corpus.txt&apos;</span>, <span class="string">&apos;a&apos;</span>)</div><div class="line">    <span class="keyword">for</span> rate <span class="keyword">in</span> rates:</div><div class="line">        f.write(rate[<span class="string">&apos;rate_content&apos;</span>])</div><div class="line">        f.write(<span class="string">&quot; &quot;</span>)</div><div class="line">    f.close()</div><div class="line">    <span class="keyword">print</span> <span class="string">&quot;Done.&quot;</span></div></pre></td></tr></table></figure></p>
<h2 id="&#x5173;&#x952E;&#x8BCD;&#x63D0;&#x53D6;"><a href="#&#x5173;&#x952E;&#x8BCD;&#x63D0;&#x53D6;" class="headerlink" title="&#x5173;&#x952E;&#x8BCD;&#x63D0;&#x53D6;"></a>&#x5173;&#x952E;&#x8BCD;&#x63D0;&#x53D6;</h2><p>&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E86;jieba&#x9ED8;&#x8BA4;&#x7684;&#x63D0;&#x53D6;&#x5173;&#x952E;&#x8BCD;&#x7684;&#x51FD;&#x6570;, &#x8FD9;&#x4E2A;&#x6B65;&#x9AA4;&#x5927;&#x6982;&#x8981;20&#x5206;&#x949F;&#x3002;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">content = open(&quot;./assets/corpus.txt&quot;, &apos;r&apos;).read()</div><div class="line">tags = jieba.analyse.extract_tags(content, topK=100, withWeight=True)</div><div class="line">print &quot;Finished extraction.&quot;</div><div class="line"></div><div class="line">for tag in tags:</div><div class="line">    print tag[0], &quot;\t&quot;, tag[1]</div><div class="line"></div><div class="line"># &#x4FDD;&#x5B58;tags</div><div class="line">with open(&quot;./assets/tags.pickle&quot;, &quot;w&quot;) as f:</div><div class="line">    pickle.dump(tags, f)</div></pre></td></tr></table></figure></p>
<p>&#x8FD0;&#x884C;&#x540E;&#x4F1A;&#x628A;&#x5173;&#x952E;&#x8BCD;&#x4EE5;&#x53CA;&#x6743;&#x91CD;&#x4FDD;&#x5B58;&#x5230;tags&#x53D8;&#x91CF;&#x4E2D;&#x3002;<br><img src="/2017/04/07/&#x628A;300W&#x6DD8;&#x5B9D;&#x6587;&#x80F8;&#x8BC4;&#x8BBA;&#x7ED8;&#x5236;&#x6210;&#x8BCD;&#x4E91;/weight.png" alt="weight">  </p>
<h2 id="&#x751F;&#x6210;&#x8BCD;&#x4E91;"><a href="#&#x751F;&#x6210;&#x8BCD;&#x4E91;" class="headerlink" title="&#x751F;&#x6210;&#x8BCD;&#x4E91;"></a>&#x751F;&#x6210;&#x8BCD;&#x4E91;</h2><p>&#x6700;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x8BCD;&#x4E91;&#x5E93;<a href="https://github.com/amueller/word_cloud" target="_blank" rel="external">word_cloud</a>&#x751F;&#x6210;&#x56FE;&#x7247;&#xFF0C; &#x6548;&#x679C;&#x5982;&#x4E0B;&#x3002;<br><img src="/2017/04/07/&#x628A;300W&#x6DD8;&#x5B9D;&#x6587;&#x80F8;&#x8BC4;&#x8BBA;&#x7ED8;&#x5236;&#x6210;&#x8BCD;&#x4E91;/word_cloud.png" alt="word_cloud">  </p>
<h2 id="&#x5B8C;&#x6574;&#x4EE3;&#x7801;"><a href="#&#x5B8C;&#x6574;&#x4EE3;&#x7801;" class="headerlink" title="&#x5B8C;&#x6574;&#x4EE3;&#x7801;"></a>&#x5B8C;&#x6574;&#x4EE3;&#x7801;</h2><p>&#x89C1;&#xFF1A;<a href="https://github.com/nladuo/taobao_bra_crawler/tree/master/keyword_analyzer" target="_blank" rel="external">https://github.com/nladuo/taobao_bra_crawler/tree/master/keyword_analyzer</a></p>
<h2 id="&#x53C2;&#x8003;"><a href="#&#x53C2;&#x8003;" class="headerlink" title="&#x53C2;&#x8003;"></a>&#x53C2;&#x8003;</h2><ul>
<li><a href="http://www.cnblogs.com/Yiutto/p/5998262.html" target="_blank" rel="external">Python pytagcloud &#x4E2D;&#x6587;&#x5206;&#x8BCD; &#x751F;&#x6210;&#x6807;&#x7B7E;&#x4E91; &#x7CFB;&#x5217;&#xFF08;&#x4E00;&#xFF09;</a></li>
<li><a href="http://www.jianshu.com/p/c862130f322d" target="_blank" rel="external">&#x5229;&#x7528;pandas+python&#x5236;&#x4F5C;100G&#x4E9A;&#x9A6C;&#x900A;&#x7528;&#x6237;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x8BCD;&#x4E91;</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="../../08/基于unoconv的在线office预览/" class="prev">PREV</a><a href="../../../../2016/09/23/验证码破解技术四部曲之使用卷积神经网络/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2017/04/07/把300W淘宝文胸评论绘制成词云/';
var disqus_title = '把300W淘宝文胸评论绘制成词云';
var disqus_url = 'http://nladuo.github.io/2017/04/07/把300W淘宝文胸评论绘制成词云/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2019 <a href="http://nladuo.github.io">叁公子</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>