<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="http://tx.nladuo.cn:3000/analytics.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><title>ElasticSearch Connection Timeout问题的一个神奇的解决方法 · 叁公子的博客</title><meta name="description" content="ElasticSearch Connection Timeout问题的一个神奇的解决方法 - 叁公子"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../../../../avatar.jpg"><link rel="stylesheet" href="../../../../css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://nladuo.github.io/atom.xml" title="叁公子的博客"></head><body><div class="wrap"><header><a href="../../../../index.html" class="logo-link"><img src="../../../../avatar.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="../../../../index.html" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="../../../../archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nladuo" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">ElasticSearch Connection Timeout问题的一个神奇的解决方法</h1><div class="post-info">May 20, 2019</div><div class="post-content"><h2 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;"><a href="#&#x95EE;&#x9898;&#x63CF;&#x8FF0;" class="headerlink" title="&#x95EE;&#x9898;&#x63CF;&#x8FF0;"></a>&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h2><p>&#x5728;&#x4F7F;&#x7528;ElasticSearch(&#x7248;&#x672C;&#x4E3A;6.6.1)&#x5904;&#x7406;&#x590D;&#x6742;&#x7684;&#x641C;&#x7D22;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x53D1;&#x73B0;&#x4F1A;&#x51FA;&#x73B0;timeout&#x7684;&#x73B0;&#x8C61;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#x4E0B;&#x9762;&#x7684;&#x8FD9;&#x4E2A;&#xFF0C;&#x591A;&#x4E2A;&#x901A;&#x914D;&#x7B26;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;or&#x7EC4;&#x5408;&#xFF0C;&#x5C31;&#x51FA;&#x73B0;&#x4E86;timeout&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">query_contains = {</div><div class="line">    <span class="string">&apos;query&apos;</span>: {</div><div class="line">        <span class="string">&quot;bool&quot;</span>: {</div><div class="line">            <span class="string">&quot;should&quot;</span>: [</div><div class="line">                {<span class="string">&quot;wildcard&quot;</span>: {<span class="string">&quot;name&quot;</span>: <span class="string">&quot;*&#x4E0A;&#x6D77;*&quot;</span>}},</div><div class="line">                {<span class="string">&quot;wildcard&quot;</span>: {<span class="string">&quot;scope&quot;</span>: <span class="string">&quot;*&#x4E0A;&#x6D77;*&quot;</span>}},</div><div class="line">                {<span class="string">&quot;wildcard&quot;</span>: {<span class="string">&quot;address&quot;</span>: <span class="string">&quot;*&#x4E0A;&#x6D77;*&quot;</span>}},</div><div class="line">            ]</div><div class="line">        }</div><div class="line">    },</div><div class="line">}</div></pre></td></tr></table></figure>
<p><img src="/2019/05/20/ElasticSearch-Connection-Timeout&#x95EE;&#x9898;&#x7684;&#x4E00;&#x4E2A;&#x795E;&#x5947;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;/error1.png" alt=""></p>
<a id="more"></a>
<h2 id="&#x89E3;&#x51B3;&#x65B9;&#x6CD5;"><a href="#&#x89E3;&#x51B3;&#x65B9;&#x6CD5;" class="headerlink" title="&#x89E3;&#x51B3;&#x65B9;&#x6CD5;"></a>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</h2><p>&#x7136;&#x540E;&#x6211;google&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;google&#x8BF4;es&#x9ED8;&#x8BA4;&#x7684;timeout&#x662F;10&#x79D2;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;timeout&#x7684;&#x65F6;&#x95F4;&#x8BBE;&#x7F6E;&#x6210;30&#xFF0C;&#x957F;&#x4E00;&#x70B9;&#x513F;&#x3002;</p>
<p>&#x7136;&#x540E;&#x6211;&#x8BD5;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x786E;&#x5B9E;&#x6709;&#x70B9;&#x513F;&#x6548;&#x679C;&#xFF0C;&#x62A5;&#x9519;&#x65E5;&#x5FD7;&#x53D8;&#x6210;&#x4E86;30&#x79D2;timeout&#xFF0C;&#x56E7;&#x3002;<br><img src="/2019/05/20/ElasticSearch-Connection-Timeout&#x95EE;&#x9898;&#x7684;&#x4E00;&#x4E2A;&#x795E;&#x5947;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;/error2.png" alt=""></p>
<p>&#x7136;&#x540E;&#x6211;&#x5C31;&#x6D4B;&#x4E86;&#x522B;&#x7684;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x4E0D;&#x53EF;&#x4EE5;&#xFF0C;&#x53D1;&#x73B0;&#x5176;&#x5B9E;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x5E76;&#x4E0D;&#x662F;ElasticSearch&#x7684;&#x4E0D;&#x80FD;&#x7528;&#x4E86;&#xFF0C;&#x4F30;&#x8BA1;&#x662F;&#x5B83;&#x53CD;&#x5E94;&#x4E0D;&#x8FC7;&#x6765;&#x5427;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x53C8;&#x6D4B;&#x4E86;&#x4E00;&#x904D;&#x521A;&#x521A;&#x7684;&#x590D;&#x6742;&#x67E5;&#x8BE2;&#xFF0C;&#x53D1;&#x73B0;&#x53C8;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x800C;&#x4E14;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x4E0D;&#x8D85;&#x8FC7;2&#x79D2;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x5728;&#x6211;&#x4EEC;&#x771F;&#x662F;&#x641C;&#x7D22;&#x524D;&#xFF0C;&#x52A0;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x641C;&#x7D22;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x4E0B;&#x9762;&#x7684;&#x641C;&#x7D22;&#x5168;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x52A0;&#x4E0A;&#x6211;&#x4EEC;&#x7684;&#x590D;&#x6742;&#x67E5;&#x8BE2;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">es.search(<span class="string">&quot;my_index&quot;</span>, doc_type=<span class="string">&quot;data&quot;</span>, body={<span class="string">&apos;query&apos;</span>: {<span class="string">&quot;bool&quot;</span>: {<span class="string">&quot;should&quot;</span>: []}}})</div><div class="line">searched = es.search(<span class="string">&quot;cmp_index&quot;</span>, doc_type=<span class="string">&quot;cmp&quot;</span>, body=query_contains, size=<span class="number">10</span>, from_=offset, request_timeout=<span class="number">30</span>)</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x4E2A;bug&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x7684;&#x795E;&#x5947;&#xFF01;</p>
</div></article></div></main><footer><div class="paginator"><a href="../../../08/31/使用Python对音频进行特征提取/" class="prev">PREV</a><a href="../../14/一种一行代码实现分布式爬虫的方案/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2019/05/20/ElasticSearch-Connection-Timeout问题的一个神奇的解决方法/';
var disqus_title = 'ElasticSearch Connection Timeout问题的一个神奇的解决方法';
var disqus_url = 'http://nladuo.github.io/2019/05/20/ElasticSearch-Connection-Timeout问题的一个神奇的解决方法/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2019 <a href="http://nladuo.github.io">叁公子</a>, 京ICP备17062395.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>