<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="http://tx.nladuo.cn:3000/analytics.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><title>一种一行代码实现分布式爬虫的方案 · 叁公子的博客</title><meta name="description" content="一种一行代码实现分布式爬虫的方案 - 叁公子"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../../../../avatar.jpg"><link rel="stylesheet" href="../../../../css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://nladuo.github.io/atom.xml" title="叁公子的博客"></head><body><div class="wrap"><header><a href="../../../../index.html" class="logo-link"><img src="../../../../avatar.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="../../../../index.html" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="../../../../archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nladuo" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">一种一行代码实现分布式爬虫的方案</h1><div class="post-info">May 14, 2019</div><div class="post-content"><h2 id="&#x4E1A;&#x52A1;&#x573A;&#x666F;"><a href="#&#x4E1A;&#x52A1;&#x573A;&#x666F;" class="headerlink" title="&#x4E1A;&#x52A1;&#x573A;&#x666F;"></a>&#x4E1A;&#x52A1;&#x573A;&#x666F;</h2><p>&#x6211;&#x5728;&#x5199;&#x722C;&#x866B;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x7ECF;&#x5E38;&#x559C;&#x6B22;&#x9020;&#x8F6E;&#x5B50;&#xFF0C;&#x4E0D;&#x592A;&#x559C;&#x6B22;&#x7528;&#x6846;&#x67B6;&#x5199;&#x3002;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x7528;&#x7684;&#x5C31;&#x662F;requests+&#x89E3;&#x6790;&#x5E93;+mongodb&#x3002;&#x5199;&#x8D77;&#x6765;&#x7684;&#x8BDD;&#x7075;&#x6D3B;&#x6027;&#x975E;&#x5E38;&#x5F3A;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x4ECB;&#x7ECD;&#x4E00;&#x79CD;&#x722C;&#x866B;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x8981;&#x722C;&#x53BB;&#x7684;&#x6570;&#x636E;&#x91CF;&#x662F;&#x5DF2;&#x77E5;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x9875;&#x9762;&#x6570;&#x76EE;&#x662F;&#x5DF2;&#x77E5;&#x7684;&#xFF0C;&#x5148;&#x722C;&#x53D6;&#x524D;10&#x9875;&#xFF0C;&#x6216;&#x8005;&#x5148;&#x66F4;&#x65B0;&#x540E;10&#x9875;&#x6CA1;&#x6709;&#x533A;&#x522B;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x5047;&#x5982;&#x8BF4;&#x6211;&#x60F3;&#x722C;&#x94FE;&#x5BB6;&#x5317;&#x4EAC;&#x623F;&#x4EF7;&#xFF0C;&#x6211;&#x53EF;&#x4EE5;&#x5148;&#x8DD1;&#x4E00;&#x904D;&#x6700;&#x57FA;&#x672C;&#x7684;&#x94FE;&#x63A5;&#x627E;&#x51FA;&#x6765;&#xFF0C;&#x53EF;&#x80FD;&#x4E1C;&#x57CE;&#x533A;&#x6709;10&#x4E07;&#x9875;&#x8981;&#x66F4;&#x65B0;&#xFF08;&#x80AF;&#x5B9A;&#x6CA1;&#x6709;&#x8FD9;&#x4E48;&#x591A;&#x4E3E;&#x4F8B;&#x5B50;&#xFF09;&#xFF0C;&#x6D77;&#x6DC0;&#x533A;&#x6709;8&#x4E07;&#x9875;&#xFF0C;&#x897F;&#x57CE;&#x533A;&#x6709;12&#x4E07;&#x9875;&#xFF0C;&#x7384;&#x6B66;&#x533A;5&#x4E07;&#x9875;&#xFF0C;&#x7B49;&#x7B49;&#x3002;&#x3002;&#x3002;&#x3002;&#xFF0C;&#x5047;&#x5982;&#x8BF4;&#x52A0;&#x8D77;&#x6765;&#x662F;100&#x4E07;&#x9875;&#x3002;</p>
<p>&#x7136;&#x540E;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x53EF;&#x80FD;&#x6709;10&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5982;&#x4F55;&#x5C06;&#x8FD9;100&#x9875;&#x5206;&#x914D;&#x7ED9;10&#x53F0;&#x6216;&#x8005;&#x4E0D;&#x540C;&#x53F0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5462;&#xFF0C;&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x6211;&#x60F3;&#x5230;&#x7684;&#x6700;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5206;&#x7C7B;&#x5668;&#x3002;</p>
<a id="more"></a>
<h2 id="&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x600E;&#x4E48;&#x52A0;"><a href="#&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x600E;&#x4E48;&#x52A0;" class="headerlink" title="&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x600E;&#x4E48;&#x52A0;"></a>&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x600E;&#x4E48;&#x52A0;</h2><p>&#x8FD9;&#x91CC;&#x5047;&#x5982;&#x8FD9;100&#x4E07;&#x9875;&#x653E;&#x5728;mongodb&#x7684;lianjia&#x6570;&#x636E;&#x5E93;&#x7684;tasks&#x8868;&#x91CC;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x7684;&#x65B9;&#x5F0F;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x53D6;&#x529F;&#x80FD;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> pymongo</div><div class="line"></div><div class="line">client = pymongo.MongoClient()</div><div class="line">db = client.lianjia</div><div class="line">tasks_coll = db.tasks</div><div class="line"></div><div class="line">machine_id = <span class="number">1</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> task <span class="keyword">in</span> tasks_coll.find({<span class="string">&quot;crawled&quot;</span>: <span class="keyword">False</span>}):</div><div class="line">    <span class="keyword">if</span> get_class_num(str(task[<span class="string">&quot;_id&quot;</span>])) == machine_id:  <span class="comment"># &#x6839;&#x636E;&#x673A;&#x5668;&#x7F16;&#x53F7;&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x7684;&#x4EFB;&#x52A1;</span></div><div class="line">        crawl_func(task)  <span class="comment"># &#x722C;&#x6570;&#x636E;</span></div><div class="line">        tasks_coll.update({<span class="string">&quot;_id&quot;</span>: task[<span class="string">&quot;_id&quot;</span>]}, {  <span class="comment"># &#x66F4;&#x65B0;&#x4EFB;&#x52A1;&#x72B6;&#x6001;</span></div><div class="line">            <span class="string">&quot;$set&quot;</span>: {</div><div class="line">                <span class="string">&quot;crawled&quot;</span>: <span class="keyword">True</span></div><div class="line">            }</div><div class="line">        })</div></pre></td></tr></table></figure></p>
<p>&#x8FD9;&#x91CC;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;<code>get_class_num</code>&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x628A;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x6620;&#x5C04;&#x6210;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x3002;</p>
<h2 id="&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5206;&#x7C7B;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;"><a href="#&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5206;&#x7C7B;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5206;&#x7C7B;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;"></a>&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5206;&#x7C7B;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;</h2><p>&#x8BF4;&#x5230;&#x6620;&#x5C04;&#x6210;&#x552F;&#x4E00;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x60F3;&#x5230;md5&#x4E86;&#x3002;&#x6211;&#x8FD9;&#x91CC;&#x7528;&#x7684;&#x529E;&#x6CD5;&#x4E5F;&#x5C31;&#x662F;md5&#x3002;&#x8FD9;&#x91CC;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6848;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> hashlib</div><div class="line"><span class="keyword">import</span> string</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_md5</span><span class="params">(_str)</span>:</span></div><div class="line">    <span class="string">&quot;&quot;&quot; &#x5BF9;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;md5 &quot;&quot;&quot;</span></div><div class="line">    hl = hashlib.md5()</div><div class="line">    _bytes = _str.encode(<span class="string">&quot;utf-8&quot;</span>)</div><div class="line">    hl.update(_bytes)</div><div class="line">    <span class="keyword">return</span> hl.hexdigest()</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_class_num</span><span class="params">(_str)</span>:</span></div><div class="line">    <span class="string">&quot;&quot;&quot; &#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x7684;ascii&#x7801;&#x4E4B;&#x548C; &quot;&quot;&quot;</span></div><div class="line">    _str = str(_str)</div><div class="line">    md5_str = get_md5(_str)</div><div class="line">    <span class="keyword">return</span> ord(md5_str[<span class="number">-1</span>])</div></pre></td></tr></table></figure>
<p>&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E5F;&#x5C31;&#x662F;&#x5148;&#x628A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6210;md5&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x53D6;md5&#x4E32;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x7684;ascii&#x7801;&#x4F5C;&#x4E3A;&#x5206;&#x7C7B;&#x7684;id&#x3002;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x53D6;&#x6A21;&#x7684;&#x65B9;&#x6CD5;&#x5206;&#x7C7B;&#x4E86;&#x3002;</p>
<h3 id="&#x5206;&#x6210;2&#x7C7B;"><a href="#&#x5206;&#x6210;2&#x7C7B;" class="headerlink" title="&#x5206;&#x6210;2&#x7C7B;"></a>&#x5206;&#x6210;2&#x7C7B;</h3><p>&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x5206;&#x6210;2&#x7C7B;&#x7684;&#x5206;&#x5E03;&#x5982;&#x4F55;&#xFF0C;&#x6211;&#x4EEC;&#x968F;&#x673A;&#x751F;&#x6210;10&#x4E07;&#x4E2A;&#x4EFB;&#x52A1;&#xFF0C;&#x770B;&#x770B;&#x80FD;&#x4E0D;&#x80FD;&#x5C06;&#x8FD9;10&#x4E07;&#x4E2A;&#x5206;&#x6210;&#x4E24;&#x534A;&#x3002;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> random</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_random_string</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">return</span> <span class="string">&apos;&apos;</span>.join(random.sample(string.ascii_letters + string.digits, <span class="number">20</span>))</div><div class="line"></div><div class="line"></div><div class="line">class_map = {}</div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000</span>):</div><div class="line">    class_id = get_class_num(generate_random_string()) % <span class="number">2</span>  <span class="comment"># &#x5206;&#x6210;&#x4E24;&#x7C7B;</span></div><div class="line">    <span class="keyword">if</span> class_id <span class="keyword">not</span> <span class="keyword">in</span> class_map.keys():</div><div class="line">        class_map[class_id] = <span class="number">1</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        class_map[class_id] += <span class="number">1</span></div><div class="line"></div><div class="line">print(class_map)</div></pre></td></tr></table></figure>
<p>&#x8FD0;&#x884C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E24;&#x4E2A;&#x7C7B;&#x522B;&#x7684;&#x6570;&#x91CF;&#x5DEE;100&#x591A;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x5DEE;&#x4EC0;&#x4E48;&#x3002;<br><img src="/2019/05/14/&#x4E00;&#x79CD;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x866B;&#x7684;&#x65B9;&#x6848;/class2.png" alt=""></p>
<h3 id="&#x5206;&#x6210;3&#x7C7B;"><a href="#&#x5206;&#x6210;3&#x7C7B;" class="headerlink" title="&#x5206;&#x6210;3&#x7C7B;"></a>&#x5206;&#x6210;3&#x7C7B;</h3><p>&#x7136;&#x540E;&#x518D;&#x6D4B;&#x4E00;&#x4E0B;&#x4E09;&#x7C7B;&#x7684;&#x3002;<br><img src="/2019/05/14/&#x4E00;&#x79CD;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x866B;&#x7684;&#x65B9;&#x6848;/class3.png" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x4E00;&#x4E2A;&#x662F;3.75&#x4E07;&#xFF0C;&#x4E24;&#x4E2A;&#x662F;3.12&#x4E07;&#x3002;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x5DEE;&#x4E86;&#x5F88;&#x591A;&#x3002;</p>
<h2 id="&#x5206;&#x7C7B;&#x5668;&#x7684;&#x5B8C;&#x5584;"><a href="#&#x5206;&#x7C7B;&#x5668;&#x7684;&#x5B8C;&#x5584;" class="headerlink" title="&#x5206;&#x7C7B;&#x5668;&#x7684;&#x5B8C;&#x5584;"></a>&#x5206;&#x7C7B;&#x5668;&#x7684;&#x5B8C;&#x5584;</h2><p>&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x7684;id&#x5206;&#x5E03;&#x4E0D;&#x5747;&#x5300;&#x7684;&#x7F18;&#x6545;&#x3002;md5&#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x662F;26&#x4E2A;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;+10&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x4E00;&#x5171;36&#x79CD;&#x5B57;&#x6BCD;&#x3002;&#x6570;&#x5B57;&#x7684;ascii&#x7801;&#x4ECE;48&#x5230;57&#xFF0C;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x7684;ascii&#x7801;&#x4ECE;97&#x5230;122&#x3002;&#x9664;&#x4E86;&#x4E8C;&#x5206;&#x7C7B;&#xFF0C;&#x5176;&#x5B9E;&#x5F88;&#x96BE;&#x4FDD;&#x8BC1;&#x5206;&#x914D;&#x5F88;&#x5747;&#x5300;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x5176;&#x5B9E;&#x6709;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x591A;&#x52A0;&#x51E0;&#x4E2A;&#x5B57;&#x6BCD;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x53EA;&#x662F;&#x53D6;&#x6700;&#x540E;&#x9762;&#x4E00;&#x4E2A;&#x5B57;&#x6BCD;&#x7684;ascii&#x7801;&#xFF0C;&#x800C;&#x662F;&#x628A;&#x6700;&#x540E;&#x9762;&#x597D;&#x51E0;&#x4E2A;&#x7684;ascii&#x7801;&#x52A0;&#x8D77;&#x6765;&#x3002;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_class_num</span><span class="params">(_str)</span>:</span></div><div class="line">    <span class="string">&quot;&quot;&quot; &#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x6700;&#x540E;&#x4E94;&#x4E2A;&#x5B57;&#x6BCD;&#x7684;ascii&#x7801;&#x4E4B;&#x548C; &quot;&quot;&quot;</span></div><div class="line">    _str = str(_str)</div><div class="line">    md5_str = get_md5(_str)</div><div class="line">    <span class="keyword">return</span> ord(md5_str[<span class="number">-1</span>]) + ord(md5_str[<span class="number">-2</span>]) + ord(md5_str[<span class="number">-3</span>]) + ord(md5_str[<span class="number">-4</span>]) + ord(md5_str[<span class="number">-5</span>])</div></pre></td></tr></table></figure>
<p>&#x7136;&#x540E;&#x5728;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x4E09;&#x4E2A;&#x7C7B;&#x7684;&#x3002;<br><img src="/2019/05/14/&#x4E00;&#x79CD;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x866B;&#x7684;&#x65B9;&#x6848;/class3_2.png" alt=""></p>
<p>&#x8FD9;&#x91CC;&#x5C31;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x6D4B;&#x4E00;&#x4E0B;7&#x4E2A;&#x7C7B;&#x3002;<br><img src="/2019/05/14/&#x4E00;&#x79CD;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x866B;&#x7684;&#x65B9;&#x6848;/class7.png" alt=""></p>
<p>&#x770B;&#x7740;&#x4E5F;&#x5F88;&#x5747;&#x5300;&#x3002;</p>
<p>&#x6211;&#x6D4B;&#x4E86;&#x4E00;&#x4E0B;&#x4E94;&#x4E2A;&#x5B57;&#x7B26;&#x76F8;&#x52A0;20&#x4E2A;&#x7C7B;&#x90FD;&#x5F88;okay&#xFF0C;&#x4E0D;&#x8FC7;&#x518D;&#x591A;&#x7684;&#x6BD4;&#x5982;&#x8BF4;100&#x4E2A;&#x7C7B;&#x8FD9;&#x79CD;&#x80AF;&#x5B9A;&#x662F;&#x4E0D;&#x884C;&#x3002;&#x5982;&#x679C;&#x7C7B;&#x522B;&#x7279;&#x522B;&#x591A;&#xFF0C;&#x53EF;&#x4EE5;&#x518D;&#x591A;&#x52A0;&#x51E0;&#x4E2A;&#x5B57;&#x7B26;&#x7684;ascii&#x7801;&#x63D0;&#x9AD8;&#x968F;&#x673A;&#x6027;&#x3002;</p>
<h2 id="&#x6DFB;&#x52A0;id&#x91CD;&#x7F6E;&#x670D;&#x52A1;"><a href="#&#x6DFB;&#x52A0;id&#x91CD;&#x7F6E;&#x670D;&#x52A1;" class="headerlink" title="&#x6DFB;&#x52A0;id&#x91CD;&#x7F6E;&#x670D;&#x52A1;"></a>&#x6DFB;&#x52A0;id&#x91CD;&#x7F6E;&#x670D;&#x52A1;</h2><p>&#x4EE5;&#x4E0A;&#x7684;&#x529E;&#x6CD5;&#x867D;&#x7136;&#x89E3;&#x51B3;&#x4E86;&#x4E00;&#x5B9A;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x866B;&#x95EE;&#x9898;&#x3002;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x7684;&#x80FD;&#x529B;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x7684;&#x96BE;&#x5EA6;&#x4E5F;&#x4E0D;&#x4E00;&#x6837;&#x3002;&#x8FD8;&#x662F;&#x4F1A;&#x51FA;&#x73B0;&#x5206;&#x914D;&#x4E0D;&#x5747;&#x5300;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;id&#x91CD;&#x7F6E;&#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6BCF;&#x9694;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;1&#x5929;&#x6216;&#x8005;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;<code>get_class_num(task[&quot;id&quot;] + random_string)</code>&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x4E00;&#x904D;id&#x3002;</p>
<p>&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x4E00;&#x76F4;&#x7A7A;&#x673A;&#x5668;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<h2 id="&#x81EA;&#x6211;&#x603B;&#x7ED3;"><a href="#&#x81EA;&#x6211;&#x603B;&#x7ED3;" class="headerlink" title="&#x81EA;&#x6211;&#x603B;&#x7ED3;"></a>&#x81EA;&#x6211;&#x603B;&#x7ED3;</h2><p>&#x722C;&#x866B;&#x7684;&#x8BBE;&#x8BA1;&#x9664;&#x4E86;&#x722C;&#x53D6;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x89C9;&#x5F97;&#x5C31;&#x662F;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x6BCF;&#x4E2A;&#x4EFB;&#x52A1;&#x90FD;&#x5341;&#x5206;&#x7684;&#x9694;&#x79BB;&#x3002;</p>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6CA1;&#x6709;&#x989D;&#x5916;&#x7684;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B8C;&#x6210;&#x76F8;&#x5BF9;&#x9AD8;&#x6548;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x722C;&#x866B;&#x3002;&#x4E3B;&#x8981;&#x8FD8;&#x662F;&#x61D2;&#x5F97;&#x5199;&#x522B;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x60F3;&#x51FA;&#x4E86;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x628A;&#x3002;</p>
</div></article></div></main><footer><div class="paginator"><a href="../../20/ElasticSearch-Connection-Timeout问题的一个神奇的解决方法/" class="prev">上一篇</a><a href="../../../01/04/Ubuntu-VPS光速搭建Shadowsocks服务/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2019/05/14/一种一行代码实现分布式爬虫的方案/';
var disqus_title = '一种一行代码实现分布式爬虫的方案';
var disqus_url = 'http://nladuo.github.io/2019/05/14/一种一行代码实现分布式爬虫的方案/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2019 <a href="http://nladuo.github.io">叁公子</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>