<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script src="http://tx.nladuo.cn:3000/analytics.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><title>那些年，我爬过的北科(三)——爬虫进阶之多进程的使用 · 叁公子的博客</title><meta name="description" content="那些年，我爬过的北科(三)——爬虫进阶之多进程的使用 - 叁公子KCN"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="../../../../avatar.jpg"><link rel="stylesheet" href="../../../../css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://nladuo.github.io/atom.xml" title="叁公子的博客"></head><body><div class="wrap"><header><a href="../../../../index.html" class="logo-link"><img src="../../../../avatar.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="../../../../index.html" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="../../../../archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nladuo" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">那些年，我爬过的北科(三)——爬虫进阶之多进程的使用</h1><div class="post-info">Feb 17, 2018</div><div class="post-content"><h2 id="&#x722C;&#x53D6;&#x591A;&#x4E2A;&#x9875;&#x9762;"><a href="#&#x722C;&#x53D6;&#x591A;&#x4E2A;&#x9875;&#x9762;" class="headerlink" title="&#x722C;&#x53D6;&#x591A;&#x4E2A;&#x9875;&#x9762;"></a>&#x722C;&#x53D6;&#x591A;&#x4E2A;&#x9875;&#x9762;</h2><p>&#x5728;&#x722C;&#x866B;&#x57FA;&#x7840;&#x4E4B;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x4E0E;&#x5165;&#x95E8;&#x4E2D;&#xFF0C;&#x4ECB;&#x7ECD;&#x4E86;&#x5982;&#x4F55;&#x7528;Requests&#x4E0B;&#x8F7D;(&#x722C;&#x53D6;)&#x4E86;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x5E76;&#x7528;BeautifulSoup&#x8FD9;&#x4E2A;HTML&#x89E3;&#x6790;&#x5E93;&#x6765;&#x89E3;&#x6790;&#x9875;&#x9762;&#x91CC;&#x9762;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x663E;&#x7136;&#xFF0C;&#x722C;&#x866B;&#x80AF;&#x5B9A;&#x4E0D;&#x662F;&#x53EA;&#x8BA9;&#x6211;&#x4EEC;&#x722C;&#x53D6;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#x7684;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x4EBA;&#x4E5F;&#x53EF;&#x4EE5;&#x505A;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x770B;&#xFF1A;<a href="http://nladuo.cn/scce_site/" target="_blank" rel="external">http://nladuo.cn/scce_site/</a>&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x3002;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x4E00;&#x5171;&#x6709;10&#x9875;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x4E00;&#x9875;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x7F51;&#x9875;&#x7684;url&#x4E2D;&#x591A;&#x4E86;&#x4E2A;&#x5B57;&#x6BB5;&#x201C;2.html&#x201D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x9875;&#x9762;&#x65F6;&#x7B2C;&#x4E8C;&#x9875;&#x7684;&#x610F;&#x601D;&#x3002;</p>
<p><img src="/2018/02/17/&#x90A3;&#x4E9B;&#x5E74;&#xFF0C;&#x6211;&#x722C;&#x8FC7;&#x7684;&#x5317;&#x79D1;-&#x4E09;-&#x2014;&#x2014;&#x722C;&#x866B;&#x8FDB;&#x9636;&#x4E4B;&#x591A;&#x8FDB;&#x7A0B;&#x7684;&#x4F7F;&#x7528;/web1.png" alt=""></p>
<p>&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5982;&#x679C;&#x8981;&#x722C;&#x53D6;&#x4E0B;&#x6240;&#x6709;&#x7684;&#x65B0;&#x95FB;&#xFF0C;&#x53EA;&#x8981;&#x722C;&#x53D6;&#x5F62;&#x5982;&#x201D;<a href="">http://nladuo.cn/scce_site/{page}.html</a>&#x201C;&#x7684;&#x9875;&#x9762;&#x5C31;&#x597D;&#x4E86;&#x3002;</p>
<a id="more"></a>
<p>&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;for&#x5FAA;&#x73AF;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x5168;&#x90E8;&#x9875;&#x9762;&#x7684;&#x722C;&#x53D6;&#x3002;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">crawl_one_page</span><span class="params">(page_num)</span>:</span></div><div class="line">    resp = requests.get(<span class="string">&quot;http://nladuo.cn/scce_site/{page}.html&quot;</span>.</div><div class="line">                        format(page=page_num))</div><div class="line">    soup = BeautifulSoup(resp.content)</div><div class="line">    items = soup.find_all(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;every_list&quot;</span>})</div><div class="line"></div><div class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</div><div class="line">        title_div = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_title&quot;</span>})</div><div class="line">        title = title_div.a.get_text()</div><div class="line">        url = title_div.a[<span class="string">&quot;href&quot;</span>]</div><div class="line">        date = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_time&quot;</span>}).get_text()</div><div class="line">        print(date, title, url)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    t0 = time.time()</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</div><div class="line">        print(<span class="string">&quot;crawling page %d .......&quot;</span> % i)</div><div class="line">        crawl_one_page(i)</div><div class="line">    print(<span class="string">&quot;used:&quot;</span>, (time.time() - t0))</div></pre></td></tr></table></figure>
<h2 id="CPU&#x5BC6;&#x96C6;&#x578B;&#x548C;IO&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;"><a href="#CPU&#x5BC6;&#x96C6;&#x578B;&#x548C;IO&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;" class="headerlink" title="CPU&#x5BC6;&#x96C6;&#x578B;&#x548C;IO&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;"></a>CPU&#x5BC6;&#x96C6;&#x578B;&#x548C;IO&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;</h2><p>&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x987A;&#x5E8F;&#x7ED3;&#x6784;&#x7684;&#x722C;&#x866B;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x722C;&#x53D6;&#x7684;&#x901F;&#x5EA6;&#x74F6;&#x9888;&#x5728;&#x54EA;&#x91CC;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x5347;&#x722C;&#x53D6;&#x901F;&#x7387;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;<strong>CPU&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;</strong>&#x548C;<strong>I/O&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;</strong>&#x3002;</p>
<ul>
<li>CPU&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;&#xFF08;CPU-bound&#xFF09;&#xFF1A;&#x4E5F;&#x53EB;&#x8BA1;&#x7B97;&#x5BC6;&#x96C6;&#x578B;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x786C;&#x76D8;&#x3001;&#x5185;&#x5B58;&#x6027;&#x80FD;&#x76F8;&#x5BF9;CPU&#x8981;&#x597D;&#x5F88;&#x591A;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x8FD0;&#x4F5C;&#x5927;&#x90E8;&#x5206;&#x7684;&#x72B6;&#x51B5;&#x662F;CPU Loading 100%&#xFF0C;CPU&#x8981;&#x8BFB;/&#x5199;I/O(&#x786C;&#x76D8;/&#x5185;&#x5B58;)&#xFF0C;I/O&#x5728;&#x5F88;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#xFF0C;&#x800C;CPU&#x8FD8;&#x6709;&#x8BB8;&#x591A;&#x8FD0;&#x7B97;&#x8981;&#x5904;&#x7406;&#xFF0C;CPU Loading&#x5F88;&#x9AD8;&#x3002;</li>
<li>I/O&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;&#xFF08;I/O-bound&#xFF09;&#xFF1A;&#x6307;&#x7684;&#x662F;&#x7CFB;&#x7EDF;&#x7684;CPU&#x6027;&#x80FD;&#x76F8;&#x5BF9;&#x786C;&#x76D8;&#x3001;&#x5185;&#x5B58;&#x8981;&#x597D;&#x5F88;&#x591A;&#xFF0C;&#x6B64;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x8FD0;&#x4F5C;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x7684;&#x72B6;&#x51B5;&#x662F;CPU&#x5728;&#x7B49;I/O (&#x786C;&#x76D8;/&#x5185;&#x5B58;) &#x7684;&#x8BFB;/&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x6B64;&#x65F6;CPU Loading&#x5E76;&#x4E0D;&#x9AD8;&#x3002;</li>
</ul>
<p>&#xFF08;&#x4E0A;&#x8FF0;&#x89E3;&#x91CA;&#x6765;&#x81EA;<a href="http://blog.csdn.net/youanyyou/article/details/78990156" target="_blank" rel="external">http://blog.csdn.net/youanyyou/article/details/78990156</a>&#xFF09;</p>
<p>&#x7F51;&#x7EDC;&#x722C;&#x866B;&#x4E3B;&#x8981;&#x6709;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x4E0B;&#x8F7D;&#x9875;&#x9762;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x89E3;&#x6790;&#x9875;&#x9762;&#x3002;&#x663E;&#x7136;&#xFF0C;&#x4E0B;&#x8F7D;&#x662F;&#x4E2A;&#x957F;&#x65F6;&#x95F4;&#x7684;I/O&#x5BC6;&#x96C6;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x89E3;&#x6790;&#x9875;&#x9762;&#x5219;&#x662F;&#x9700;&#x8981;&#x8C03;&#x7528;&#x7B97;&#x6CD5;&#x6765;&#x67E5;&#x627E;&#x9875;&#x9762;&#x7ED3;&#x6784;&#xFF0C;&#x662F;&#x4E2A;CPU&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x722C;&#x866B;&#x6765;&#x8BF4;&#xFF0C;&#x8017;&#x65F6;&#x4E3B;&#x8981;&#x5728;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#x4E2D;&#xFF0C;&#x6839;&#x636E;&#x7F51;&#x7EDC;&#x7684;&#x8FDE;&#x901A;&#x6027;&#xFF0C;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#x53EF;&#x80FD;&#x8981;&#x51E0;&#x767E;&#x6BEB;&#x79D2;&#x751A;&#x81F3;&#x51E0;&#x79D2;&#xFF0C;&#x800C;&#x89E3;&#x6790;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x53EF;&#x80FD;&#x53EA;&#x9700;&#x8981;&#x51E0;&#x5341;&#x6BEB;&#x79D2;&#x3002;&#x6240;&#x4EE5;&#x722C;&#x866B;&#x5176;&#x5B9E;&#x662F;&#x5C5E;&#x4E8E;I/O&#x5BC6;&#x96C6;&#x578B;&#x4E1A;&#x52A1;&#xFF0C;&#x5176;&#x74F6;&#x9888;&#x4E3B;&#x8981;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x9762;&#x3002;</p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x63D0;&#x5347;&#x722C;&#x866B;&#x7684;&#x722C;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x4E0D;&#x662F;&#x628A;CPU&#x90FD;&#x8DD1;&#x6EE1;&#x3002;&#x800C;&#x662F;&#x8981;&#x591A;&#x5F00;&#x51E0;&#x4E2A;&#x4E0B;&#x8F7D;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x4E0B;&#x8F7D;&#xFF0C;&#x628A;&#x7F51;&#x7EDC;I/O&#x8DD1;&#x6EE1;&#x3002;</p>
<p>&#x5728;Python&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x591A;&#x7EBF;&#x7A0B;&#x548C;&#x591A;&#x8FDB;&#x7A0B;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x4E0B;&#x8F7D;&#x3002;&#x7136;&#x800C;&#x5728;python&#x591A;&#x7EBF;&#x7A0B;&#x65E0;&#x6CD5;&#x8DD1;&#x591A;&#x6838;&#xFF08;&#x53C2;&#x89C1;&#xFF1A;<a href="https://wiki.python.org/moin/GlobalInterpreterLock" target="_blank" rel="external">GIL</a>&#xFF09;&#xFF0C;&#x800C;&#x591A;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x8BF4;&#x4E00;&#x4E0B;python&#x4E2D;&#x591A;&#x8FDB;&#x7A0B;&#x7684;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="&#x591A;&#x8FDB;&#x7A0B;"><a href="#&#x591A;&#x8FDB;&#x7A0B;" class="headerlink" title="&#x591A;&#x8FDB;&#x7A0B;"></a>&#x591A;&#x8FDB;&#x7A0B;</h2><p>python&#x4E2D;&#x8C03;&#x7528;&#x591A;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;multiprocessing&#x8FD9;&#x4E2A;&#x5305;&#x5C31;&#x597D;&#x4E86;&#x3002;&#x4E0B;&#x9762;&#x521B;&#x5EFA;&#x4E86;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BCF;&#x9694;&#x4E00;&#x79D2;&#x6253;&#x5370;&#x4E00;&#x4E0B;&#x8FDB;&#x7A0B;ID&#x3002;&#xFF08;&#x8FD9;&#x91CC;&#x7684;time.sleep&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x8017;&#x65F6;&#x7684;I/O&#x64CD;&#x4F5C;&#x3002;&#xFF09;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> multiprocessing</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> os</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">process</span><span class="params">(process_id)</span>:</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">        time.sleep(<span class="number">1</span>)</div><div class="line">        print(<span class="string">&apos;Task %d, pid: %d, doing something&apos;</span> % (process_id, os.getpid()))</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</div><div class="line">    <span class="comment"># &#x8FDB;&#x7A0B;1</span></div><div class="line">    p = multiprocessing.Process(target=process, args=(<span class="number">1</span>,))</div><div class="line">    p.start()</div><div class="line"></div><div class="line">    <span class="comment"># &#x8FDB;&#x7A0B;2</span></div><div class="line">    p2 = multiprocessing.Process(target=process, args=(<span class="number">2</span>,))</div><div class="line">    p2.start()</div></pre></td></tr></table></figure></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x540C;&#x65F6;&#x6253;&#x5370;&#x4E24;&#x53E5;&#x8BDD;&#x3002;&#x800C;&#x5728;&#x6CA1;&#x7528;&#x591A;&#x8FDB;&#x7A0B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x4F1A;&#x50CF;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x6837;&#x5B50;&#x3002;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">    time.sleep(<span class="number">1</span>)</div><div class="line">    <span class="keyword">print</span> <span class="string">&apos;Task 1, doing something&apos;</span>  </div><div class="line">    time.sleep(<span class="number">1</span>)</div><div class="line">    <span class="keyword">print</span> <span class="string">&apos;Task 2, doing something&apos;</span></div></pre></td></tr></table></figure>
<p>&#x6B64;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x722C;&#x53D6;1-5&#x9875;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x722C;&#x53D6;6-10&#x9875;&#x3002;&#x518D;&#x6765;&#x8BD5;&#x8BD5;&#xFF0C;&#x770B;&#x770B;&#x901F;&#x5EA6;&#x6709;&#x6CA1;&#x6709;&#x63D0;&#x5347;&#x4E00;&#x500D;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> multiprocessing</div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">crawl_one_page</span><span class="params">(page_num)</span>:</span></div><div class="line">    resp = requests.get(<span class="string">&quot;http://nladuo.cn/scce_site/{page}.html&quot;</span>.</div><div class="line">                        format(page=page_num))</div><div class="line">    soup = BeautifulSoup(resp.content)</div><div class="line">    items = soup.find_all(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;every_list&quot;</span>})</div><div class="line"></div><div class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</div><div class="line">        title_div = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_title&quot;</span>})</div><div class="line">        title = title_div.a.get_text()</div><div class="line">        url = title_div.a[<span class="string">&quot;href&quot;</span>]</div><div class="line">        date = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_time&quot;</span>}).get_text()</div><div class="line">        print(date, title, url)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">process</span><span class="params">(start, end)</span>:</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(start, end):</div><div class="line">        print(<span class="string">&quot;crawling page %d .......&quot;</span> % i)</div><div class="line">        crawl_one_page(i)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    t0 = time.time()</div><div class="line">    p = multiprocessing.Process(target=process, args=(<span class="number">1</span>, <span class="number">6</span>))  <span class="comment"># &#x4EFB;&#x52A1;1, &#x722C;&#x53D6;1-5&#x9875;</span></div><div class="line">    p.start()</div><div class="line"></div><div class="line">    p2 = multiprocessing.Process(target=process, args=(<span class="number">6</span>, <span class="number">11</span>))  <span class="comment"># &#x4EFB;&#x52A1;2, &#x722C;&#x53D6;6-10&#x9875;</span></div><div class="line">    p2.start()</div><div class="line"></div><div class="line">    p.join()</div><div class="line">    p2.join()</div><div class="line"></div><div class="line">    print(<span class="string">&quot;used:&quot;</span>, (time.time() - t0))</div></pre></td></tr></table></figure></p>
<h2 id="&#x8FDB;&#x7A0B;&#x6C60;"><a href="#&#x8FDB;&#x7A0B;&#x6C60;" class="headerlink" title="&#x8FDB;&#x7A0B;&#x6C60;"></a>&#x8FDB;&#x7A0B;&#x6C60;</h2><p>&#x50CF;&#x4E0A;&#x9762;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x5206;&#x522B;&#x5904;&#x7406;&#x4E24;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x7136;&#x800C;&#x6709;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x5BB9;&#x6613;&#x7684;&#x628A;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x628A;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x60F3;&#x8C61;&#x4E3A;&#x722C;&#x53D6;&#x5E76;&#x89E3;&#x6790;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x6709;&#x4E24;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x800C;&#x4EFB;&#x52A1;&#x6709;&#x6210;&#x5343;&#x4E0A;&#x4E07;&#x4E2A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x5199;&#x5462;&#xFF1F;</p>
<p>&#x8FD9;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x51E0;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x7ED9;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#xFF0C;&#x5982;&#x4F55;&#x5206;&#x914D;&#xFF0C;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x3002;&#x5728;&#x6240;&#x6709;&#x7684;&#x8FDB;&#x7A0B;&#x90FD;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x4FDD;&#x8BC1;&#x6709;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x518D;&#x52A0;&#x5165;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x3002;<br><figure class="highlight py"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> multiprocessing</div><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">crawl_one_page</span><span class="params">(page_num)</span>:</span></div><div class="line">    resp = requests.get(<span class="string">&quot;http://nladuo.cn/scce_site/{page}.html&quot;</span>.</div><div class="line">                        format(page=page_num))</div><div class="line">    soup = BeautifulSoup(resp.content, <span class="string">&quot;html.parser&quot;</span>)</div><div class="line">    items = soup.find_all(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;every_list&quot;</span>})</div><div class="line"></div><div class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</div><div class="line">        title_div = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_title&quot;</span>})</div><div class="line">        title = title_div.a.get_text()</div><div class="line">        url = title_div.a[<span class="string">&quot;href&quot;</span>]</div><div class="line">        date = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_time&quot;</span>}).get_text()</div><div class="line">        print(date, title, url)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    t0 = time.time()</div><div class="line"></div><div class="line">    p = <span class="keyword">None</span>  <span class="comment"># &#x8FDB;&#x7A0B;1</span></div><div class="line">    p2 = <span class="keyword">None</span>  <span class="comment"># &#x8FDB;&#x7A0B;2</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):</div><div class="line">        <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">1</span>:  <span class="comment"># &#x628A;&#x5076;&#x6570;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x7ED9;&#x8FDB;&#x7A0B;1</span></div><div class="line">            p = multiprocessing.Process(target=crawl_one_page, args=(i,))</div><div class="line">            p.start()</div><div class="line">        <span class="keyword">else</span>:           <span class="comment"># &#x628A;&#x5947;&#x6570;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x7ED9;&#x8FDB;&#x7A0B;2</span></div><div class="line">            p2 = multiprocessing.Process(target=crawl_one_page, args=(i,))</div><div class="line">            p2.start()</div><div class="line"></div><div class="line">        <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:  <span class="comment"># &#x4FDD;&#x8BC1;&#x53EA;&#x6709;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;, &#x7B49;&#x5F85;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;</span></div><div class="line">            p.join()</div><div class="line">            p2.join()</div><div class="line"></div><div class="line">    print(<span class="string">&quot;used:&quot;</span>, (time.time() - t0))</div></pre></td></tr></table></figure></p>
<p>&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4E24;&#x8FDB;&#x7A0B;&#x7684;&#x4EFB;&#x52A1;&#x5206;&#x914D;&#x548C;&#x7BA1;&#x7406;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;&#x4E5F;&#x5B58;&#x5728;&#x7740;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF1A;&#x6BD4;&#x5982;&#x8FDB;&#x7A0B;2&#x5148;&#x7ED3;&#x675F;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5728;&#x8FD0;&#x884C;&#xFF0C;&#x4F46;&#x7A0B;&#x5E8F;&#x8FD8;&#x963B;&#x585E;&#x4F4F;&#xFF0C;&#x65E0;&#x6CD5;&#x4EA7;&#x751F;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x505A;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x65E8;&#x5728;&#x8BF4;&#x660E;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406;&#x7684;&#x590D;&#x6742;&#x6027;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8BF4;&#x4E00;&#x8BF4;&#x8FDB;&#x7A0B;&#x6C60;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#x3002;</p>
<p>&#x65E2;&#x7136;&#x53EB;&#x505A;&#x8FDB;&#x7A0B;&#x6C60;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x6709;&#x4E2A;&#x6C60;&#x5B50;&#xFF0C;&#x91CC;&#x9762;&#x6709;&#x4E00;&#x5806;&#x516C;&#x7528;&#x7684;&#x8FDB;&#x7A0B;&#xFF1B;&#x5F53;&#x6709;&#x4EFB;&#x52A1;&#x6765;&#x4E86;&#xFF0C;&#x62FF;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x51FA;&#x6765;&#xFF1B;&#x5F53;&#x4EFB;&#x52A1;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x628A;&#x8FDB;&#x7A0B;&#x8FD8;&#x56DE;&#x6C60;&#x5B50;&#x91CC;&#xFF0C;&#x7ED9;&#x522B;&#x7684;&#x4EFB;&#x52A1;&#x7528;&#xFF1B;&#x5F53;&#x6C60;&#x5B50;&#x91CC;&#x9762;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90A3;&#x5C31;&#x8981;&#x7B49;&#x5F85;&#xFF0C;&#x7B49;&#x522B;&#x4EBA;&#x628A;&#x8FDB;&#x7A0B;&#x5F52;&#x8FD8;&#x4E86;&#x518D;&#x62FF;&#x53BB;&#x7528;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x8BA9;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x6BCF;&#x79D2;&#x6253;&#x5370;&#x4E00;&#x4E0B;pid&#xFF0C;&#x4E00;&#x5171;&#x6253;&#x5370;&#x4E24;&#x904D;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> os</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_something</span><span class="params">(num)</span>:</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</div><div class="line">        time.sleep(<span class="number">1</span>)</div><div class="line">        print(<span class="string">&quot;doing %d, pid: %d&quot;</span> % (num, os.getpid()))</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    p = Pool(<span class="number">3</span>)</div><div class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):  <span class="comment"># 10&#x4E2A;&#x4EFB;&#x52A1;</span></div><div class="line">        p.apply_async(do_something, args=(page,))</div><div class="line"></div><div class="line">    p.close()   <span class="comment"># &#x5173;&#x95ED;&#x8FDB;&#x7A0B;&#x6C60;, &#x4E0D;&#x518D;&#x63A5;&#x53D7;&#x4EFB;&#x52A1;</span></div><div class="line">    p.join()    <span class="comment"># &#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;</span></div></pre></td></tr></table></figure></p>
<p>&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x662F;&#x4E09;&#x4E2A;&#x4E09;&#x4E2A;&#x7684;&#x6253;&#x5370;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x6210;&#x529F;&#x5B8C;&#x6210;&#x4E86;&#x4E09;&#x5E76;&#x53D1;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x8FDB;&#x7A0B;&#x6C60;&#x4E00;&#x5171;&#x4EA7;&#x751F;&#x4E86;&#x4E09;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF1A;59650&#x3001;59651&#x3001;59652&#xFF0C;&#x8BF4;&#x660E;&#x540E;&#x9762;&#x7684;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x8FD9;&#x4E09;&#x4E2A;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;&#x7684;&#x3002;<br><img src="/2018/02/17/&#x90A3;&#x4E9B;&#x5E74;&#xFF0C;&#x6211;&#x722C;&#x8FC7;&#x7684;&#x5317;&#x79D1;-&#x4E09;-&#x2014;&#x2014;&#x722C;&#x866B;&#x8FDB;&#x9636;&#x4E4B;&#x591A;&#x8FDB;&#x7A0B;&#x7684;&#x4F7F;&#x7528;/multiprocess.png" alt=""></p>
<p>&#x4E0B;&#x9762;&#xFF0C;&#x4FEE;&#x6539;&#x722C;&#x866B;&#x4EE3;&#x7801;&#xFF0C;&#x7528;&#x8FDB;&#x7A0B;&#x6C60;&#x5B9E;&#x73B0;&#x5E76;&#x53D1;&#x722C;&#x53D6;&#x3002;<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">crawl_one_page</span><span class="params">(page_num)</span>:</span></div><div class="line">    resp = requests.get(<span class="string">&quot;http://nladuo.cn/scce_site/{page}.html&quot;</span>.</div><div class="line">                        format(page=page_num))</div><div class="line">    soup = BeautifulSoup(resp.content, <span class="string">&quot;html.parser&quot;</span>)</div><div class="line">    items = soup.find_all(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;every_list&quot;</span>})</div><div class="line"></div><div class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> items:</div><div class="line">        title_div = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_title&quot;</span>})</div><div class="line">        title = title_div.a.get_text()</div><div class="line">        url = title_div.a[<span class="string">&quot;href&quot;</span>]</div><div class="line">        date = item.find(<span class="string">&quot;div&quot;</span>, {<span class="string">&quot;class&quot;</span>: <span class="string">&quot;list_time&quot;</span>}).get_text()</div><div class="line">        print(date, title, url)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</div><div class="line">    t0 = time.time()</div><div class="line">    p = Pool(<span class="number">5</span>)</div><div class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">11</span>):  <span class="comment"># 1-10&#x9875;</span></div><div class="line">        p.apply_async(crawl_one_page, args=(page,))</div><div class="line"></div><div class="line">    <span class="comment"># &#x5173;&#x95ED;&#x8FDB;&#x7A0B;&#x6C60;, &#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;</span></div><div class="line">    p.close()</div><div class="line">    p.join()</div><div class="line"></div><div class="line">    print(<span class="string">&quot;used:&quot;</span>, (time.time() - t0))</div></pre></td></tr></table></figure></p>
<p>&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x591A;&#x8FDB;&#x7A0B;&#x7684;&#x8BB2;&#x89E3;&#x5C31;&#x7ED3;&#x675F;&#x4E86;&#x3002;</p>
</div></article></div></main><footer><div class="paginator"><a href="../../27/那些年，我爬过的北科-四-——爬虫进阶之极简并行爬虫框架开发/" class="prev">PREV</a><a href="../../07/Echarts绘制北京摩拜单车分布热力图/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'seansun';
var disqus_identifier = '2018/02/17/那些年，我爬过的北科-三-——爬虫进阶之多进程的使用/';
var disqus_title = '那些年，我爬过的北科(三)——爬虫进阶之多进程的使用';
var disqus_url = 'http://nladuo.github.io/2018/02/17/那些年，我爬过的北科-三-——爬虫进阶之多进程的使用/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//seansun.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2020 <a href="http://nladuo.github.io">叁公子KCN</a>, <a href="http://www.beian.miit.gov.cn/">京ICP备17062395号</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>